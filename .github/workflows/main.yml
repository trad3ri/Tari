name: Run Crypto Price Checker

on:
  push:   # Ø§Ø¬Ø±Ø§ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ù‡Ù†Ú¯Ø§Ù… Ø«Ø¨Øª ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨
  schedule:
    - cron: "0 * * * *"  # Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ø± ÛŒÚ© Ø³Ø§Ø¹Øª

jobs:
  run_script:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ Ø¯Ø±ÛŒØ§ÙØª Ø³ÙˆØ±Ø³â€ŒÚ©Ø¯
        uses: actions/checkout@v4

      - name: ğŸ ØªÙ†Ø¸ÛŒÙ… Ù¾Ø§ÛŒØªÙˆÙ†
        uses: actions/setup-python@v4
        with:
          python-version: "3.x"

      - name: ğŸ“¦ Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§
        run: |
          python -m pip install --upgrade pip
          pip install ccxt requests

      - name: ğŸš€ Ø§Ø¬Ø±Ø§ÛŒ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª
        run: python main.py

      - name: ğŸ“ Ù†Ù…Ø§ÛŒØ´ Ù„Ø§Ú¯ Ø¯Ø± ØµÙˆØ±Øª Ø®Ø·Ø§
        if: failure()
        run: cat /home/runner/.cache/pip/log/debug.log || true
